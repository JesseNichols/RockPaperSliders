<html>
	<head>
		<title>Touch Tester</title>
		<style>
			#p {
				font-size: 500%
			}
		</style>
	</head>
	<body>
		<p id="p">touchtest</p>
	</body>
	<script type="text/javascript">

		var firstTouch = null;
		
		document.body.addEventListener("touchstart", function(evt) {
			evt.preventDefault();
			if (!firstTouch) {
				firstTouch = evt.touches[0];
				var p = document.getElementById("p");
				p.innerHTML = "Start touch: " + firstTouch.clientX + "," + firstTouch.clientY + 
					" <br> " + p.innerHTML;
			}
		}, false);
		
		document.body.addEventListener("touchend", function(evt) {
			evt.preventDefault();
			var p = document.getElementById("p");
			var lastTouch = evt.touches[0];
			
			if (firstTouch) {
				var dX = lastTouch.clientX - firstTouch.clientX;
				var dY = lastTouch.clientY - firstTouch.clientY;
				var absDX = Math.abs(dX);
				var absDY = Math.abs(dY);
				
				var direction = "";
				if (absDX > absDY) {
					if (dX > 0)
						direction = "right";
					else
						direction = "left";
				}
				else {
					if (dY > 0)
						direction = "down";
					else
						direction = "up";
				}
				
				p.innerHTML = "First touch: " + firstTouch.clientX + "," + firstTouch.clientY + 
					" <br> Last touch: " + lastTouch.clientX + "," + lastTouch.clientY + 
					" <br> Difference: " + dX + "," + dY + 
					" <br> Direction: " + direction + 
					" <br> " + p.innerHTML;
				
				firstTouch = null;
			}
			else {
				p.innerHTML = "Couldn't get first touch. | Last touch: " + lastTouch.clientX + "," + lastTouch.clientY + 
					" <br> " + p.innerHTML;;
			}
		}, false);
		
	</script>
</html>